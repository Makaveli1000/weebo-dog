<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snt.L.Mo. Exclusive Sports Hub</title>

    <!-- Load Firebase configuration from environment variables -->
    <script src="env-config.js"></script>

    <!-- Tailwind CSS output -->
    <link rel="stylesheet" href="output.css">

    <style>
        /* Define a custom color scheme based on St. Louis sports (Metro Blue/Red/Yellow) */
        .text-metro-primary { color: #0047AB; /* Navy Blue */ }
        .bg-metro-primary { background-color: #0047AB; }
        .border-metro-primary { border-color: #0047AB; }
        .text-metro-accent { color: #DC143C; /* Red */ }
        .bg-metro-accent { background-color: #DC143C; }

        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .card { transition: transform 0.2s, box-shadow 0.2s; }
        .card:hover { transform: translateY(-3px); box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1); }
        .loading-overlay { display: flex; justify-content: center; align-items: center; background-color: rgba(255, 255, 255, 0.8); z-index: 100; }

        /* Ensure loading overlay hides absolutely when class is added */
        #loading-overlay.hidden {
            display: none !important;
        }

        #tts-button {
            background-color: #ef4444;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: 600;
            transition: background-color 0.2s;
        }
        #tts-button:hover:not(:disabled) {
            background-color: #dc2626;
        }
        #tts-button:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
        }
        /* Custom style for Zeus flying function */
        .flying-zeus {
            transition: transform 1s ease-out, opacity 1s ease-out;
            will-change: transform, opacity;
        }
        /* New Cheerleader section styles */
        .cheer-card {
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .cheer-card:hover {
            box-shadow: 0 4px 12px rgba(0, 40, 100, 0.2);
            transform: translateY(-2px);
        }
    </style>

    <!-- qrcode.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode.js/1.0.0/qrcode.min.js"></script>

</head>
<body class="min-h-screen flex flex-col">

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="fixed inset-0 loading-overlay z-50">
        <div class="text-center">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-metro-primary mx-auto"></div>
            <p class="mt-4 text-gray-700 font-semibold">Initializing Zeus Hub Security...</p>
        </div>
    </div>

    <!-- Firebase Initialization Error Display -->
    <div id="firebase-init-error-display" class="fixed inset-x-0 top-0 bg-red-600 text-white p-4 text-center z-50 hidden">
        <p class="font-semibold">Firebase Initialization Error</p>
        <p id="firebase-init-error-text" class="text-sm mt-1"></p>
    </div>

    <!-- Header Section -->
    <header class="bg-metro-primary text-white shadow-lg z-30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold">Snt.L.Mo. Exclusive Sports Grid</h1>
            <nav class="flex items-center space-x-4">
                <button id="header-auth-btn" class="bg-white text-metro-primary px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition">Login</button>
                <button id="account-btn" class="bg-white text-metro-primary px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition hidden">Account</button>
                <button id="logout-btn" class="bg-metro-accent text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition hidden">Logout</button>
            </nav>
        </div>
    </header>

    <!-- Zeus Avatar SVG -->
    <svg id="zeus-avatar-svg" class="w-10 h-10 fixed right-4 bottom-4 z-40 cursor-pointer flying-zeus" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="45" fill="#0047AB"/>
        <text x="50" y="65" text-anchor="middle" fill="white" font-size="40" font-weight="bold">Z</text>
    </svg>

    <!-- Paywall Content Section -->
    <div id="paywall-content" class="flex-grow flex items-center justify-center p-8 hidden">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md text-center">
            <h2 class="text-3xl font-bold text-metro-primary mb-4">Unlock Zeus Hub</h2>
            <p class="text-gray-600 mb-6">Get exclusive access to premium sports content, predictions, and more!</p>
            <button id="subscribe-btn" class="w-full bg-metro-primary text-white py-3 rounded-lg font-semibold hover:bg-blue-800 transition">Subscribe Now - $10.00/year</button>
            <p class="text-sm text-gray-500 mt-4">Already subscribed? <button id="restore-btn" class="text-metro-primary underline">Restore Purchase</button></p>
        </div>
    </div>

    <!-- Main Content Area -->
    <main id="main-content" class="flex-grow max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 hidden">
        <!-- Sports Grid Section -->
        <section id="sports-grid" class="mb-12">
            <h2 class="text-2xl font-bold text-metro-primary mb-6">Featured Sports</h2>
            <div id="sports-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Cards will be dynamically inserted here -->
            </div>
        </section>

        <!-- Cheerleaders Section -->
        <section id="cheerleaders-section" class="mb-12">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-metro-primary">Cheerleaders</h2>
                <button id="add-cheerleader-btn" class="bg-metro-primary text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-800 transition hidden">+ Add Cheerleader</button>
            </div>
            <div id="cheerleaders-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                <!-- Cheerleader cards will be dynamically inserted here -->
            </div>
        </section>

        <!-- TTS Section -->
        <section id="tts-section" class="mb-12">
            <h2 class="text-2xl font-bold text-metro-primary mb-6">Zeus Voice</h2>
            <div class="bg-white rounded-xl shadow-lg p-6">
                <!-- Text area pre-filled with the message -->
                <textarea id="tts-input" class="w-full border border-gray-300 rounded-lg p-4 mb-4 resize-none" rows="4">Good day everyone and welcome athletes coaches supporters and sports fans from around the world Today, we are proud to welcome you to SNT L MO EXCLUSIVE SPORTS GRID  a place built for passion talent and opportunity This is more than just a platform its a global sports community where dedication meets visibility and dreams begin to take shape Inside youll find differet categories of sports bringing together athletes from all backgrounds and skill levels No matter what sport you play and love there is a space here for you This is where your hard work discipline and commitment finally get the spotlight they deserve Here you can upload your highlight share your achievements showcase your journey You can connect communicate and have real conversations with other athletes fans and professionals who share the same passion for sports Learn from each other support one another and grow together as a community Most importantly this platform gives you worldwide exposure Your talent can be seen by recruiteres professionals high schools colleges and organizations across the globe Whether youre chasing a scholarship a professional opportunity or simply aiming to be recognized this is your stage Every great journy starts with a single step Today that step is right here So log in explore the grid share your story and let the world see what youre capable of </textarea>
                <!-- TTS button is no longer disabled by default -->
                <button id="tts-button">Speak</button>
                <!-- Add an audio element for background sound -->
                <audio id="thunder-audio" src="/audio/thunder.mp3" loop preload="auto" volume="0.5"></audio>
            </div>
        </section>
    </main>

    <!-- Login Modal -->
    <div id="login-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4 relative">
            <h2 class="text-2xl font-bold text-metro-primary mb-6 text-center">Login to Zeus Hub</h2>
            <form id="login-form">
                <input type="email" id="login-email" class="w-full border border-gray-300 rounded-lg p-3 mb-4" placeholder="Email" required>
                <input type="password" id="login-password" class="w-full border border-gray-300 rounded-lg p-3 mb-4" placeholder="Password" required>
                <p id="login-error" class="text-red-500 text-sm mb-4"></p>
                <button type="submit" class="w-full bg-metro-primary text-white py-3 rounded-lg font-semibold hover:bg-blue-800 transition mb-3">Login</button>
                <button type="button" id="register-auth-btn" class="w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition">Register</button>
            </form>
            <p class="text-center text-gray-500 mt-4">Don't have an account? <button id="show-signup" class="text-metro-primary underline">Sign Up</button></p>
            <button id="close-login-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
        </div>
    </div>

    <!-- Account Modal -->
    <div id="account-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4 relative">
            <h2 class="text-2xl font-bold text-metro-primary mb-6 text-center">Your Account</h2>
            <div id="account-info" class="space-y-4">
                <p><strong>User ID:</strong> <span id="account-uid" class="text-gray-600 text-sm"></span></p>
                <p><strong>Email:</strong> <span id="account-email"></span></p>
                <p><strong>Status:</strong> <span id="account-premium-status" class="font-semibold"></span></p>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Nickname</label>
                    <input type="text" id="account-nickname" class="w-full border border-gray-300 rounded-lg p-3" placeholder="Enter nickname">
                </div>
                <hr class="my-4">
                <h3 class="font-semibold text-metro-primary">Change Password</h3>
                <div>
                    <input type="password" id="login-password" class="w-full border border-gray-300 rounded-lg p-3 mb-4" placeholder="Password" required="" autocomplete="current-password">
    
                    <p id="account-password-error" class="text-red-500 text-sm mb-2"></p>
                    <button id="update-password-btn" class="w-full bg-metro-accent text-white py-2 rounded-lg font-semibold hover:bg-red-700 transition">Update Password</button>
                </div>
            </div>
            <button id="close-account-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
        </div>
    </div>

    <!-- Cash App Modal -->
    <div id="cashapp-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4 relative">
            <h2 class="text-2xl font-bold text-metro-primary mb-4 text-center">Pay with Cash App</h2>
            <div id="cashapp-qr" class="flex justify-center mb-4">
                <!-- QR Code will be inserted here -->
            </div>
            <p class="text-center text-gray-600 mb-4">Scan to pay $9.99</p>
            <button id="confirm-payment-btn" class="w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition">I've Completed Payment</button>
            <button id="close-cashapp-modal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
        </div>
    </div>

    <!-- Cheerleader Upload Modal -->
    <div id="cheerleader-upload-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4 relative">
            <h2 class="text-2xl font-bold text-metro-primary mb-6 text-center">Add New Cheerleader</h2>
            <form id="cheerleader-form">
                <input type="text" id="cheerleader-name" class="w-full border border-gray-300 rounded-lg p-3 mb-4" placeholder="Name" required>
                <input type="text" id="cheerleader-team" class="w-full border border-gray-300 rounded-lg p-3 mb-4" placeholder="Team" required>
                <input type="file" id="cheerleader-image" class="w-full border border-gray-300 rounded-lg p-3 mb-6" accept="image/*" required>
                <button type="submit" class="w-full bg-metro-primary text-white py-3 rounded-lg font-semibold hover:bg-blue-800 transition">Upload Cheerleader</button>
            </form>
            <button id="close-cheerleader-modal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
        </div>
    </div>

    <!-- This script tag will load your bundled JavaScript -->
    <script src="/bundle.js"></script>
</body>
</html>