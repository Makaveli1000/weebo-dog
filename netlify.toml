# netlify.toml

[build]
  # Combined command to first run the config script,
  # and THEN copy all necessary static assets to the publish directory (which is '.')
  command = "chmod +x create-config.sh && ./create-config.sh && cp index.html . && cp app.module.js . && cp create-config.sh ."
  
  # Publish directly from the root of the repository.
  # This implies index.html, app.module.js, env-config.js, etc., will be here.
  publish = "." 

[[redirects]]
  # This rule ensures that all routes (e.g., /account, /dashboard) are 
  # served by index.html, which is essential for a Single Page Application (SPA).
  from = "/*"
  to = "/index.html"
  status = 200
