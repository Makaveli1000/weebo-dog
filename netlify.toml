# netlify.toml

[build]
  # CRITICAL FIX: Changed build command.
  # This now ONLY makes your 'create-config.sh' script executable and then runs it.
  # This script generates env-config.js with your Firebase/Gemini keys.
  # No 'npm install' or 'npm run build' is needed for the web app's assets.
  command = "chmod +x create-config.sh && ./create-config.sh"
  
  # CRITICAL FIX: Changed publish directory.
  # All your static assets (index.html, app.module.js, env-config.js)
  # are now expected to be directly in the root of the repository.
  publish = "." 

[[redirects]]
  # This rule ensures that all routes (e.g., /account, /dashboard) are 
  # served by index.html, which is essential for a Single Page Application (SPA).
  from = "/*"
  to = "/index.html"
  status = 200
