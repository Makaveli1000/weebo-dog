# netlify.toml

[build]
  # CRITICAL FIX: This command will first install dependencies, then execute
  # your web app's 'build' script which handles all compilation,
  # including running build-env.sh, esbuild, tailwind, and copying files.
  command = "npm install && npm run build"
  
  # CRITICAL FIX: Your 'npm run build' script places all final assets
  # into the 'dist' folder. Netlify must publish from this directory.
  publish = "dist" 

[[redirects]]
  # This rule ensures that all routes (e.g., /account, /dashboard) are 
  # served by index.html, which is essential for a Single Page Application (SPA).
  from = "/*"
  to = "/index.html"
  status = 200
